#!/usr/bin/python
#
# Author: Huanglin "Lincoln" Xiong
# Email: hxiong@wpi.edu
# Version: Sep 2014
#
# Run all the test under test/new
#
#

import subprocess, os
from lib.History import History
from lib import Harness

Harness.initRunAllTest(os.getcwd())
# History logging here
h = History("RUN_ALL")
h.log("Run all the test.")
test_dir = "./test/new/"

for f in os.listdir(test_dir):
    h.log("TEST RUN \"{0}\"".format(f))
    Harness.run_test(f, h.getCounter())

